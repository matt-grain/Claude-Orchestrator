# Pre-commit hooks for Claude Debussy
# Run: pre-commit install
# Manual: pre-commit run --all-files

repos:
  # Ruff - fast Python linter and formatter
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.14.0
    hooks:
      - id: ruff
        name: ruff check

  # Type checking with pyright
  - repo: local
    hooks:
      - id: pyright
        name: pyright
        entry: uv run pyright
        language: system
        types: [python]
        pass_filenames: false
        args: [src/]

      - id: ty
        name: ty check
        entry: uv run ty check
        language: system
        types: [python]
        pass_filenames: false
        args: [src/]

      - id: bandit
        name: bandit security
        entry: uv run bandit
        language: system
        types: [python]
        args: [-r, src/, -x, ./tests, -ll]
        pass_filenames: false

      - id: radon
        name: radon complexity
        entry: uv run radon cc
        language: system
        types: [python]
        args: [src/, -a, --total-average]
        pass_filenames: false
